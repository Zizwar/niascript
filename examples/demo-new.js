#!/usr/bin/env node
/**
 * NiaScript Demo - Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø§Ù„Ù…ÙˆØ­Ø¯Ø©
 *
 * npm run demo:new
 */

import { nia, Nia } from '../src/index.js';

console.log(`
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ¯ NiaScript - Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø¨Ø§Ù„Ù†ÙˆØ§ÙŠØ§                               â•‘
â•‘  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”                 â•‘
â•‘  Intent-Based Programming                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
`);

async function main() {
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 1. Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© (Ø¨Ø¯ÙˆÙ† API)
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  console.log('â”'.repeat(60));
  console.log('ğŸ“ 1. Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© (Ø¨Ø¯ÙˆÙ† API)\n');

  const calc1 = await nia`Ø§Ø­Ø³Ø¨ 25 * 4`;
  console.log(`   25 Ã— 4 = ${calc1.value}`);
  console.log(`   Ø§Ù„Ù…ØµØ¯Ø±: ${calc1.meta.source}`);

  const calc2 = await nia`ÙƒÙ… 1000 / 8`;
  console.log(`   1000 Ã· 8 = ${calc2.value}`);

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 2. Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  console.log('\n' + 'â”'.repeat(60));
  console.log('ğŸ“… 2. Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª\n');

  const date = await nia`Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ…`;
  console.log(`   ${date.value}`);

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 3. Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  console.log('\n' + 'â”'.repeat(60));
  console.log('ğŸ”„ 3. Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª\n');

  const convert = await nia`Ø­ÙˆÙ„ 100 ÙƒÙŠÙ„ÙˆÙ…ØªØ± Ø¥Ù„Ù‰ Ù…ÙŠÙ„`;
  console.log(`   ${convert.value}`);

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 4. Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  console.log('\n' + 'â”'.repeat(60));
  console.log('ğŸ¤– 4. Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ\n');

  if (process.env.OPENROUTER_API_KEY) {
    const ai = await nia`Ø§ÙƒØªØ¨ Ø¬Ù…Ù„Ø© ØªØ­ÙÙŠØ²ÙŠØ© Ù‚ØµÙŠØ±Ø©`;
    console.log(`   "${ai.value}"`);
    console.log(`   Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„: ${ai.meta.model}`);
    console.log(`   Ø§Ù„ØªÙƒÙ„ÙØ©: $${ai.meta.cost?.toFixed(4) || 0}`);
  } else {
    console.log('   âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ API key - ØªØ®Ø·ÙŠ Ø§Ø®ØªØ¨Ø§Ø± AI');
  }

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 5. ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  console.log('\n' + 'â”'.repeat(60));
  console.log('ğŸ”— 5. ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª\n');

  const name = 'NiaScript';
  const version = '4.0';
  const greeting = await nia`Ù‚Ù„ Ù…Ø±Ø­Ø¨Ø§ Ø¨Ù€ ${name} Ø§Ù„Ø¥ØµØ¯Ø§Ø± ${version}`;
  console.log(`   ${greeting.value}`);

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // 6. Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  console.log('\n' + 'â”'.repeat(60));
  console.log('ğŸ“Š 6. Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª\n');

  const stats = nia.stats();
  console.log(`   Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡Ø§Øª: ${stats.totalCalls}`);
  console.log(`   Ù…Ø­Ù„ÙŠØ©: ${stats.localCalls}`);
  console.log(`   AI: ${stats.aiCalls}`);
  console.log(`   Ù…Ù† Ø§Ù„ÙƒØ§Ø´: ${stats.cachedCalls}`);
  console.log(`   Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©: $${stats.totalCost.toFixed(4)}`);
  console.log(`   Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬: ${stats.outputDir}`);

  console.log('\n' + 'â”'.repeat(60));
  console.log('âœ… Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø¹Ø±Ø¶!\n');
}

main().catch(console.error);
